<Page xmlns="http://schemas.nativescript.org/tns.xsd"
   xmlns:PullRefresh="nativescript-pulltorefresh"
  loaded="pageLoaded" actionBarHidden="true">

  <GridLayout rows="auto, *" swipe="backSwipe">
    <!-- HEADER -->
    <StackLayout class="page-header">
      <GridLayout class="action-bar" colSpan="2">
        <StackLayout tap="backTap" orientation="horizontal" class="action-wrap" horizontalAlignment="left">
          <Image stretch="none" class="icon-image" src="res://ic_arrow_back"/>
          <Label text="Back" class="back-text" />
        </StackLayout>
        <Label text="Programma" class="action-bar-title" />
      </GridLayout>
      
      <!-- Tabs News Type -->
      <GridLayout class="darker">
        <SegmentedBar selectedBackgroundColor="#00acf6" selectedIndex="{{ selectedProgrammaIndex }}">
          <SegmentedBar.items>
            <SegmentedBarItem title="Thuis" />
            <SegmentedBarItem title="Uit" />
            <SegmentedBarItem title="Toernooi" />
          </SegmentedBar.items>
        </SegmentedBar>
      </GridLayout>

        <Label class="header-title" horizontalAlignment="center" margin="15">
        <Label.formattedText>
          <FormattedString>
            <FormattedString.spans>
              <Span text="{{ programmaHeader }}" fontAttributes="Bold" />
            </FormattedString.spans>
          </FormattedString>
        </Label.formattedText>
      </Label>
           
    </StackLayout>

    <!-- Content -->
    <GridLayout row="1" class="content-container-sm" visibility="{{ selectedProgrammaIndex === 0 ? 'visible' : 'collapsed' }}">
  
       <PullRefresh:PullToRefresh refresh="refreshProgrammaThuisList">

          <!-- List -->
          <ListView items="{{ programmaThuisItems }}" separatorColor="#dddddd" itemTap="selectProgrammaDetails">
              <ListView.itemTemplate>

                <StackLayout>

                    <StackLayout visibility="{{ newDate ? 'visible' : 'collapsed' }}">
                      <Label text="{{ Datum }}" class="programma-datum" />
                    </StackLayout>

                    <GridLayout columns="auto, auto, auto" rows="auto, auto" class="programma-list-view-row">
                        <Label row="0" col="0" text="{{ Thuis }}" class="l-mr-1" textWrap="true" />
                        <Label row="0" col="1" text="-" class="l-mr-1" />
                        <Label row="0" col="2" text="{{ Uit }}" textWrap="true" />
                        <Label row="1" col="0" text="{{ Tijd }}" class="l-mr-1 programma-tijd"/>
                    </GridLayout>
                
                </StackLayout>
              
              </ListView.itemTemplate>
          </ListView>

       </PullRefresh:PullToRefresh>
       
       <ActivityIndicator busy="{{ isProgrammaLoading }}" row="1" horizontalAlignment="center" verticalAlignment="center" />

    </GridLayout>

    <GridLayout row="1" class="content-container-sm" visibility="{{ selectedProgrammaIndex === 1 ? 'visible' : 'collapsed' }}">
  
       <PullRefresh:PullToRefresh refresh="refreshProgrammaUitList">

          <ListView items="{{ programmaUitItems }}" separatorColor="#dddddd" itemTap="selectProgrammaDetails">
              
              <ListView.itemTemplate>

              <StackLayout>

                    <StackLayout visibility="{{ newDate ? 'visible' : 'collapsed' }}">
                      <Label text="{{ Datum }}" class="programma-datum" />
                    </StackLayout>

                  <GridLayout columns="auto, auto, auto, auto" rows="auto, auto" class="programma-list-view-row">
                        <Label row="0" col="0" text="{{ Thuis }}" class="l-mr-1" textWrap="true" />
                        <Label row="0" col="1" text="-" class="l-mr-1" />
                        <Label row="0" col="2" text="{{ Uit }}" textWrap="true" />
                        <Label row="1" col="0" text="{{ Tijd }}" class="l-mr-1 programma-tijd"/>
                  </GridLayout>
              
              </StackLayout>
              
              </ListView.itemTemplate>
          </ListView>

       </PullRefresh:PullToRefresh>
       
       <ActivityIndicator busy="{{ isProgrammaLoading }}" row="1" horizontalAlignment="center" verticalAlignment="center" />
              
    </GridLayout>

    <StackLayout row="1" class="content-container-sm" visibility="{{ selectedProgrammaIndex === 2 ? 'visible' : 'collapsed' }}">
  
        <Label text="&#xf19f; R.C.H. toernooien pagina" class="material-icon" />
              
    </StackLayout>

  </GridLayout>
</Page>