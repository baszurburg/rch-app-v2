<Page xmlns="http://schemas.nativescript.org/tns.xsd"
      xmlns:drawer="nativescript-telerik-ui/sidedrawer"
      xmlns:PullRefresh="nativescript-pulltorefresh"
      loaded="pageLoaded" actionBarHidden="true">
  
  <drawer:RadSideDrawer id="SideDrawer">  
      <drawer:RadSideDrawer.drawerTransition>
          <drawer:SlideInOnTopTransition/>
      </drawer:RadSideDrawer.drawerTransition>
    <drawer:RadSideDrawer.drawerContent>
      <GridLayout rows="*, auto">
        <StackLayout style="background-color: #053140;">
          <Image src="~/images/logo-banner-site.png" class="slide-out-img" stretch="aspectFit" />
          <Button tap="selectView" tag="5" class="{{ selectedViewIndex === 0 ? 'slide-out-btn' : 'slide-out-btn-selected' }}" text="Home" />
          <Button tap="selectView" tag="10" class="{{ selectedViewIndex === 10 ? 'slide-out-btn' : 'slide-out-btn-selected' }}" text="Nieuws" />
          <Button tap="selectView" tag="20" class="{{ selectedViewIndex === 20 ? 'slide-out-btn' : 'slide-out-btn-selected' }}" text="Wedstrijden" />
          <Button tap="selectView" tag="30" class="{{ selectedViewIndex === 30 ? 'slide-out-btn' : 'slide-out-btn-selected' }}" text="Teams" />
          <Button tap="selectView" tag="40" class="{{ selectedViewIndex === 40 ? 'slide-out-btn' : 'slide-out-btn-selected' }}" text="Agenda" />
          <Button tap="selectView" tag="50" class="{{ selectedViewIndex === 50 ? 'slide-out-btn' : 'slide-out-btn-selected' }}" text="Club info" />
          <Button tap="selectView" tag="200" class="{{ selectedViewIndex === 200 ? 'slide-out-btn' : 'slide-out-btn-selected' }}" text="Tools & Links" />
          <Button tap="selectView" tag="400" class="{{ selectedViewIndex === 400 ? 'slide-out-btn' : 'slide-out-btn-selected' }}" text="Sponsors" />
          <Button tap="selectView" tag="500" class="{{ selectedViewIndex === 500 ? 'slide-out-btn' : 'slide-out-btn-selected' }}" text="Settings" />
          <Button tap="goToLogin" class="{{ selectedViewIndex === 600 ? 'slide-out-btn' : 'slide-out-btn-selected' }}" text="Login" />

        </StackLayout>
        
        <StackLayout style="background-color: #053140;" row="1">
          <Label tap="goToUrl" tag="http://www.icws.nl" class="slide-out-btn-about">
            <Label.formattedText>
              <FormattedString>
                <FormattedString.spans>
                  <Span text="Build by " />
                  <Span text="ICWS" fontAttributes="Bold"  />
                </FormattedString.spans>
              </FormattedString>
            </Label.formattedText>
          </Label>
        </StackLayout>
      </GridLayout>
  </drawer:RadSideDrawer.drawerContent>

    <drawer:RadSideDrawer.mainContent>
      <GridLayout rows="auto, *">
        <!-- Header -->
        <StackLayout class="page-header">
          <GridLayout class="action-bar darker">
            <GridLayout class="action-wrap" tap="showSlideout" columns="auto" horizontalAlignment="left">
              <Image stretch="none" class="icon-image" src="res://ic_menu"/>
            </GridLayout>
            <Label text="{{ actionBarTitle }}" class="action-bar-title" />
          </GridLayout>


        <!-- THUIS -->
        <StackLayout row="1" class="bg-white" visibility="{{ selectedViewIndex === 5 ? 'visible' : 'collapsed'}}">
        
            <StackLayout class="content-container-xxs">
                <Image src="~/images/rch-jeugd-facebook.jpg" />
            </StackLayout>
            
            <StackLayout class="content-offset">

                <Label class="info-blue" textWrap="true" >
                    <Label.formattedText>
                    <FormattedString>
                        <FormattedString.spans>
                        <Span text="Thuis bij R.C.H." fontAttributes="Bold" />
                        </FormattedString.spans>
                    </FormattedString>
                    </Label.formattedText>
                </Label>
             
                <Label text="Belangrijke mededelingen" /> 
                <Label text="Inloggen" />
                <Label text="Gekoppeld nieuws" />
             
            </StackLayout>

        </StackLayout>

          <!-- Tabs News Type -->
          <GridLayout class="darker" visibility="{{ isNewsPage ? 'visible' : 'collapsed' }}">
            <SegmentedBar selectedBackgroundColor="#00acf6" selectedIndex="{{ selectedNewsIndex }}">
              <SegmentedBar.items>
                <SegmentedBarItem title="Algemeen" />
                <SegmentedBarItem title="Jeugd" />
                <SegmentedBarItem title="Verslagen" />
              </SegmentedBar.items>
            </SegmentedBar>
          </GridLayout>

         <Label class="header-title" horizontalAlignment="center" margin="15" visibility="{{ isNewsPage ? 'visible' : 'collapsed' }}">
            <Label.formattedText>
                <FormattedString>
                    <FormattedString.spans>
                    <Span text="{{ newsHeader }}" fontAttributes="Bold" />
                    </FormattedString.spans>
                </FormattedString>
            </Label.formattedText>
        </Label>


          <!-- Tabs Info Type -->
          <!-- TODO : put it in the right place -->
          <GridLayout class="darker" visibility="{{ isInfoPage ? 'visible' : 'collapsed' }}">
            <SegmentedBar selectedBackgroundColor="#00acf6" selectedIndex="{{ selectedInfoIndex }}">
              <SegmentedBar.items>
                <SegmentedBarItem title="Algemeen" />
                <SegmentedBarItem title="Jeugd" />
              </SegmentedBar.items>
            </SegmentedBar>
          </GridLayout>

         <Label class="header-title" horizontalAlignment="center" margin="15" visibility="{{ isInfoPage ? 'visible' : 'collapsed' }}">
            <Label.formattedText>
                <FormattedString>
                    <FormattedString.spans>
                    <Span text="{{ infoHeader }}" fontAttributes="Bold" />
                    </FormattedString.spans>
                </FormattedString>
            </Label.formattedText>
        </Label>

          
        </StackLayout>
        
        <!-- NEWS Views -->

        <StackLayout row="1" visibility="{{ isNewsPage ? 'visible' : 'collapsed' }}">

            <PullRefresh:PullToRefresh refresh="refreshNewsList">

            <!-- List -->
            <ListView items="{{ posts }}" row="1" separatorColor="#dddddd" class="listView" itemTap="selectNews">
                <ListView.itemTemplate>

                <StackLayout class="list-view-row">

                    <GridLayout columns="auto, *" class="list-view-row-inner">

                        <GridLayout class="" columns="auto" rows="auto">
                            <Image stretch="aspectFit" class="news-image-thumb" src="{{ image.imageThumb }}" visibility="{{ image.imageThumb ? 'visible' : 'collapsed' }}" />
                            <Image stretch="aspectFit" class="news-image-thumb" src="~/images/image-placeholder.png" visibility="{{ !image.imageThumb ? 'visible' : 'collapsed' }}" />
                        </GridLayout>

                        <StackLayout col="1">
                        
                            <Label text="{{ name }}" textWrap="true" class="info-bigger"/>
                            <Label text="{{ dateFormattedFull }}" class="info-smaller" />

                        </StackLayout>
                                        
                    </GridLayout>
                
                </StackLayout>
                
                </ListView.itemTemplate>
            </ListView>

            </PullRefresh:PullToRefresh>

            <ActivityIndicator busy="{{ isNewsLoading }}" row="1" horizontalAlignment="center" verticalAlignment="center" />

        </StackLayout>

        <!-- WEDSTRIJDEN View -->
        <StackLayout row="1" visibility="{{ selectedViewIndex === 20 ? 'visible' : 'collapsed'}}">
            
            <StackLayout>
                <Image src="~/images/e2-20160123-3.jpg" />  
            </StackLayout>
            
            <StackLayout class="content-offset">

                <Label class="info l-pt-2 l-pb-2" tap="goToView" tag="views/wedstrijden/programma/programma-page">
                    <Label.formattedText>
                    <FormattedString>
                        <FormattedString.spans>
                        <Span text="Programma" fontAttributes="Bold"/>
                        </FormattedString.spans>
                    </FormattedString>
                    </Label.formattedText>
                </Label>
            
                <!-- Line -->
                <StackLayout class="horizontal-line" margin="0 0 0 0"/>         
                
                <Label class="info l-pt-2 l-pb-2" tap="goToView" tag="views/wedstrijden/uitslagen/uitslagen-page">
                    <Label.formattedText>
                    <FormattedString>
                        <FormattedString.spans>
                        <Span text="Uitslagen" fontAttributes="Bold"/>
                        </FormattedString.spans>
                    </FormattedString>
                    </Label.formattedText>
                </Label>

                <!-- Line -->
                <StackLayout class="horizontal-line" margin="0 0 0 0"/>

                <Label class="info l-pt-2 l-pb-2" tap="goToUrl" tag="http://www.rch-voetbal.nl/wedstrijden-programma-standen-uitslagen/afgelastingen">
                    <Label.formattedText>
                    <FormattedString>
                        <FormattedString.spans>
                        <Span text="Afgelastingen" fontAttributes="Bold" />
                        <Span text=" (R.C.H. site)" fontSize="10" />
                        </FormattedString.spans>
                    </FormattedString>
                    </Label.formattedText>
                </Label>

                <!-- Line -->
                <StackLayout class="horizontal-line" margin="0 0 0 0"/>
            
            </StackLayout>

        </StackLayout>

        <!-- TEAMS -->
        <StackLayout row="1" visibility="{{ selectedViewIndex === 30 ? 'visible' : 'collapsed'}}" class="content-offset">
          <Label class="info" tap="goToUrl" tag="http://www.rch-voetbal.nl/voetbal-elftallen-teams">
            <Label.formattedText>
              <FormattedString>
                <FormattedString.spans>
                  <Span text="Teams" fontAttributes="Bold" />
                  <Span text=" (R.C.H. site)" fontSize="10" />
                </FormattedString.spans>
              </FormattedString>
            </Label.formattedText>
          </Label>

        </StackLayout>

        <!-- AGENDA View -->
        <StackLayout row="1" visibility="{{ selectedViewIndex === 40 ? 'visible' : 'collapsed'}}">
   
            <StackLayout>
                <Image src="~/images/rch-evenement.jpg" />  
            </StackLayout>
            
            <StackLayout class="content-offset">

                <Label class="info-blue">
                    <Label.formattedText>
                    <FormattedString>
                        <FormattedString.spans>
                        <Span text="R.C.H. Evenementen" fontAttributes="Bold" />
                        </FormattedString.spans>
                    </FormattedString>
                    </Label.formattedText>
                </Label>

                <PullRefresh:PullToRefresh refresh="refreshAgendaList">

                    <ListView items="{{ agendaItems }}" separatorColor="#dddddd">
                        <ListView.itemTemplate>
                            <StackLayout>
                                <Label text="{{ title }}" textWrap="true" class="info-bigger"/>
                                <Label text="{{ eventDateTime }}" textWrap="true" class="info-smaller" />
                            </StackLayout>
                        </ListView.itemTemplate>
                    </ListView>

                </PullRefresh:PullToRefresh>
                
            </StackLayout>
          


        </StackLayout>


        <!-- CLUB Info View -->
        <StackLayout row="1" visibility="{{ (isInfoPage && selectedInfoIndex === 0) ? 'visible' : 'collapsed'}}">
            
            <StackLayout>
                <Image src="~/images/kantine-rch.jpg" />  
            </StackLayout>
  
                  // ToDo: move the plugin all up - check the version of the plugin....
         
                <StackLayout class="content-offset">

                    <Label class="info l-pt-2 l-pb-2" tap="goToView" tag="views/club/over-rch-page/over-rch-page">
                        <Label.formattedText>
                        <FormattedString>
                            <FormattedString.spans>
                            <Span text="Over R.C.H." fontAttributes="Bold"/>
                            </FormattedString.spans>
                        </FormattedString>
                        </Label.formattedText>
                    </Label>
                
                    <!-- Line -->
                    <StackLayout class="horizontal-line"/>
                    
                    <Label class="info-blue">
                        <Label.formattedText>
                        <FormattedString>
                            <FormattedString.spans>
                            <Span text="Sociaal club" fontAttributes="Bold" />
                            </FormattedString.spans>
                        </FormattedString>
                        </Label.formattedText>
                    </Label>
                    <GridLayout columns="*,*,*" marginTop="12">
                        <Image src="res://facebook" stretch="none" col="0" tap="goToUrl" tag="https://www.facebook.com/RCHvoetbalclub/"/>
                        <Image src="res://twitter" stretch="none" col="1" tap="goToUrl" tag="https://twitter.com/rchvoetbal"/>
                        <Image src="res://linkedin" stretch="none" col="2" tap="goToUrl" tag="https://www.linkedin.com/groups/5087825"/>
                    </GridLayout>
            
                </StackLayout>
            
        </StackLayout>

        <!-- Jeugd Info View -->
        <StackLayout row="1" visibility="{{ (isInfoPage && selectedInfoIndex === 1) ? 'visible' : 'collapsed'}}">
            
            <StackLayout>
                <Image src="~/images/e2-20160123-3.jpg" />  
            </StackLayout>
            
            <StackLayout class="content-offset">

                <Label class="info l-pt-2 l-pb-2">
                    <Label.formattedText>
                    <FormattedString>
                        <FormattedString.spans>
                        <Span text="Jeugd pagina" fontAttributes="Bold"/>
                        </FormattedString.spans>
                    </FormattedString>
                    </Label.formattedText>
                </Label>
            
                <!-- Line -->
                <StackLayout class="horizontal-line"/>                
                <Label class="info-blue">
                    <Label.formattedText>
                    <FormattedString>
                        <FormattedString.spans>
                        <Span text="Sociaal jeugd" fontAttributes="Bold" />
                        </FormattedString.spans>
                    </FormattedString>
                    </Label.formattedText>
                </Label>
                <GridLayout columns="*,*,*" marginTop="12">
                    <Image src="res://facebook" stretch="none" col="0" tap="goToUrl" tag="https://www.facebook.com/groups/racertjes.mini/"/>
                    <Image src="res://twitter" stretch="none" col="1" tap="goToUrl" tag="https://twitter.com/rchjeugd"/>
                    <Button col="2" text="Instagram" tap="goToUrl" tag="https://www.instagram.com/rch_voetbal" visibility="collapsed"/>
                </GridLayout>     
            
            </StackLayout>

        </StackLayout>

        <!-- TOOLS -->
        <StackLayout row="1" visibility="{{ selectedViewIndex === 200 ? 'visible' : 'collapsed'}}" class="content-offset">
          <Label text="Tools & links" />
          <Label text="- zoek een club" />
        </StackLayout>

        <!-- Sponsors -->
        <StackLayout row="1" visibility="{{ selectedViewIndex === 400 ? 'visible' : 'collapsed'}}" class="content-container-sm">

            <GridLayout rows="auto,auto,auto" columns="*,*">
                <Image src="~/images/sponsors/hbr.jpg" row="0" col="0" tap="goToUrl" tag="http://www.hbr.nl"/> 
                <Image src="~/images/sponsors/ajewe.jpg" row="0" col="1" tap="goToUrl" tag="http://www.ajewesport.nl/" /> 
                <Image src="~/images/sponsors/asc.jpg" row="1" col="0" tap="goToUrl" tag="http://www.allroundsportcare.nl/" /> 
                <Image src="~/images/sponsors/sponsor_worden.jpg" row="1" col="1" tap="goToUrl" tag="http://www.rch-voetbal.nl/sponsoring/hoe-sponsor-worden"/> 
                <Image src="~/images/sponsors/icws.jpg" row="2" col="0" tap="goToUrl" tag="http://www.icws.nl/ "/> 
                <Image src="~/images/sponsors/datasign.jpg" row="2" col="1" tap="goToUrl" tag="http://www.datasign.nl/"/> 
            </GridLayout>

        </StackLayout>


        <!-- SETTINGS -->
        <StackLayout row="1" visibility="{{ selectedViewIndex === 500 ? 'visible' : 'collapsed'}}" class="content-offset">
          <Label text="settings" />
          <Label text="user data - user - mail - id - name:" />
          <Label text="{{user}}" />
          <Label text="{{user.email}}" />
          <Label text="{{user.userId}}" />
          <Label text="{{user.userName}}" />
          
          <Label text="isAuthenticated" />
          <Label text="{{isAuthenticated}}" />

          <Label text="Maak een link naar de profiel pagina..." />
          <Label text="permanent cache as well" />
          <Label text="Redirect vanaf de account pagina's" />
          <Label text="Hide de profiel pagina wanneer niet ingelogd." />

        </StackLayout>

      </GridLayout>
    </drawer:RadSideDrawer.mainContent>
  </drawer:RadSideDrawer>
</Page>
